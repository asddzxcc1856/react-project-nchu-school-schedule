{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\dashboard\\\\practice_project\\\\hello-world\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport NameContext from './nameContext.js';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Content from './Content';\n\n//第一次物件創建時流程                   constructor() => static getDerivedStateFromProps(props,state) => render() => 渲染DOM => componentDidMount\n//第一次到第N次物件Props,State更新時流程 shouldComponentUpdate(nextProps,nextState) => getSnapshotBeforeUpdate(prevProps,prevState) => render() => 渲染DOM => componentDidUpdate\n//最後要刪除物件時觸發流程               componentWillUnmount()\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    //繼承props\n    super(props);\n    //宣告state\n    this.changeName = newName => {\n      if (this.state.width >= 300) {\n        const len = this.state.width - 10;\n        this.setState({\n          name: this.state.name,\n          first: this.state.first,\n          width: len\n        });\n        document.getElementById(\"content\").style.width = len + \"px\";\n        document.getElementById(\"msg\").style.width = len + \"px\";\n        setTimeout(this.changeName, 200);\n      } else {\n        alert('ww');\n        this.setState({\n          name: this.state.name,\n          first: this.state.first === false ? true : false,\n          width: this.state.width\n        });\n      }\n    };\n    this.state = {\n      name: \"\",\n      first: true,\n      width: 1000\n    };\n    //綁定changeName函式的this 為 class App 的 this\n    this.changeName = this.changeName.bind(this);\n  }\n  //changeName 給button onClick用的函式\n\n  //DerivedStateFromProps 用props來修改state的render phase\n  static getDerivedStateFromProps(props, state) {\n    if (state.first === true) return {\n      name: \"新的2\",\n      first: false\n    };else return {\n      name: state.name,\n      first: true\n    };\n  }\n  //componentDidMonut 用來修改render後的DOM樣式 // 可以fetch style DOM...\n  componentDidMount() {\n    if (this.state.first === true) {\n      document.getElementById('content').style.backgroundColor = \"gray\";\n    } else {\n      document.getElementById('content').style.backgroundColor = \"green\";\n    }\n  }\n  //componentWillUnmonut   時會觸發 delete\n  componentWillUnmount() {\n    return;\n  }\n  //shouldComponentUpdate(nextProps,nextState) \n  //return true 代表可以做 Update 的 render \n  //return false 代表不可以做 Update 的 render\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextState.first !== this.state.first) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  //getSnapshotBeforeUpdate 在 render 與 render產生DOM 之間把目前狀態做儲存可以用\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    return null;\n  }\n  //componentDidUpdate 更新後可以修改 render 的 DOM 內容樣式 // fetch DOM style js...\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.context.name === \"王大明\" && this.state.first === true) {\n      document.getElementById('content').style.backgroundColor = \"gray\";\n    } else {\n      document.getElementById('content').style.backgroundColor = \"green\";\n    }\n  }\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return {\n      hasError: true\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    console.log(error, errorInfo);\n  }\n\n  //render 渲染的return (DOM);\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u7CFB\\u7D71\\u51FA\\u932F!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 14\n      }, this);\n    }\n    if (this.state.first === true) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Content, {\n          first: this.state.first\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.changeName,\n          children: this.context.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Content, {\n          first: this.state.first\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.changeName,\n          children: this.context.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n  }\n}\nApp.contextType = NameContext;\nexport default App;","map":{"version":3,"names":["React","Component","NameContext","Header","Footer","Content","App","constructor","props","changeName","newName","state","width","len","setState","name","first","document","getElementById","style","setTimeout","alert","bind","getDerivedStateFromProps","componentDidMount","backgroundColor","componentWillUnmount","shouldComponentUpdate","nextProps","nextState","getSnapshotBeforeUpdate","prevProps","prevState","componentDidUpdate","snapshot","context","getDerivedStateFromError","error","hasError","componentDidCatch","errorInfo","console","log","render","contextType"],"sources":["C:/xampp/htdocs/dashboard/practice_project/hello-world/src/App.js"],"sourcesContent":["import React, {Component} from 'react';\nimport NameContext from './nameContext.js'\nimport Header from './Header';\nimport Footer from './Footer';\nimport Content from './Content';\n\n//第一次物件創建時流程                   constructor() => static getDerivedStateFromProps(props,state) => render() => 渲染DOM => componentDidMount\n//第一次到第N次物件Props,State更新時流程 shouldComponentUpdate(nextProps,nextState) => getSnapshotBeforeUpdate(prevProps,prevState) => render() => 渲染DOM => componentDidUpdate\n//最後要刪除物件時觸發流程               componentWillUnmount()\nclass App extends Component {\n  static contextType = NameContext;\n  constructor(props){\n    //繼承props\n    super(props);\n    //宣告state\n    this.state = {\n      name: \"\",\n      first: true,\n      width: 1000\n    }\n    //綁定changeName函式的this 為 class App 的 this\n    this.changeName = this.changeName.bind(this);\n    \n  }\n  //changeName 給button onClick用的函式\n  changeName = (newName) =>{\n    if(this.state.width >= 300)\n    {\n      const len = this.state.width - 10;\n      this.setState({\n        name: this.state.name,\n        first: this.state.first,\n        width: len\n        }\n      )\n      document.getElementById(\"content\").style.width = (len + \"px\");\n      document.getElementById(\"msg\").style.width = (len + \"px\");\n      setTimeout(this.changeName,200);\n    }\n    else\n    {\n      alert('ww');\n      this.setState({\n        name: this.state.name,\n        first: this.state.first === false ? true : false,\n        width: this.state.width\n        }\n      )\n    }\n  }\n\n  //DerivedStateFromProps 用props來修改state的render phase\n  static getDerivedStateFromProps(props,state){\n    if(state.first === true)\n      return {name:\"新的2\",first: false};\n    else\n      return {name: state.name,first: true};\n  }\n  //componentDidMonut 用來修改render後的DOM樣式 // 可以fetch style DOM...\n  componentDidMount(){\n    if(this.state.first === true){\n      document.getElementById('content').style.backgroundColor = \"gray\";\n    }\n    else {\n      document.getElementById('content').style.backgroundColor = \"green\";\n    }\n  }\n  //componentWillUnmonut   時會觸發 delete\n  componentWillUnmount() {\n    return;\n  }\n  //shouldComponentUpdate(nextProps,nextState) \n  //return true 代表可以做 Update 的 render \n  //return false 代表不可以做 Update 的 render\n  shouldComponentUpdate(nextProps,nextState){\n    if(nextState.first !== this.state.first)\n    {\n      return true;\n    }\n    else\n    {\n      return false;\n    }\n  }\n\n  //getSnapshotBeforeUpdate 在 render 與 render產生DOM 之間把目前狀態做儲存可以用\n  getSnapshotBeforeUpdate(prevProps,prevState){\n    return null;\n  }\n  //componentDidUpdate 更新後可以修改 render 的 DOM 內容樣式 // fetch DOM style js...\n  componentDidUpdate(prevProps,prevState,snapshot){\n    if(this.context.name === \"王大明\" && this.state.first === true){\n      document.getElementById('content').style.backgroundColor = \"gray\";\n    }\n    else {\n      document.getElementById('content').style.backgroundColor = \"green\";\n    }\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    console.log(error, errorInfo);\n  }\n\n  //render 渲染的return (DOM);\n  render(){\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>系統出錯!!</h1>;\n    }\n    if(this.state.first === true){\n      return(\n        <>\n          <Header/>\n            <Content first={this.state.first}>\n            </Content>\n            <button onClick={this.changeName}>\n              {this.context.name}\n            </button>      \n          <Footer/>\n        </>\n      );\n    }\n    else {\n      return(\n        <>\n          <Header/>\n          <Content first={this.state.first}>\n          </Content>\n          <button onClick={this.changeName}>\n            {this.context.name}\n          </button>      \n          <Footer/>\n        </>\n      );\n    }\n  }\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}