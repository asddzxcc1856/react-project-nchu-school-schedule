{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\dashboard\\\\practice_project\\\\hello-world\\\\src\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [Data, setData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const handleChange1 = event => {\n    // ðŸ‘‡ Get input value from \"event\"\n    setData({\n      email: event.target.value,\n      password: Data.password\n    });\n  };\n  const handleChange2 = event => {\n    // ðŸ‘‡ Get input value from \"event\"\n    setData({\n      email: Data.email,\n      password: event.target.value\n    });\n  };\n  let token = localStorage.getItem(\"token\");\n  token = JSON.parse(token);\n  var url = 'http://localhost/dashboard/practice_project/php_server/auto_login.php';\n  let obj;\n  if (token !== null) {\n    obj = {\n      key: token.data.JWT\n    };\n  } else {\n    obj = {\n      key: \"\"\n    };\n  }\n  const [ret, setRet] = useState({\n    code: 2,\n    message: \"\"\n  });\n  useEffect(() => {\n    if (ret.code === 2) {\n      async function get() {\n        await fetch(url, {\n          method: 'POST',\n          body: JSON.stringify(obj)\n        }).then(function (response) {\n          return response.json();\n        }).then(function (body) {\n          setRet(body);\n        });\n      }\n      get();\n    }\n  }, [ret.code]);\n  if (ret.code === 1) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"login-form\",\n        children: [\"\\u4FE1\\u7BB1 : \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"email\",\n          id: \"email\",\n          onChange: handleChange1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 95\n        }, this), \"\\u5BC6\\u78BC : \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"password\",\n          id: \"password\",\n          onChange: handleChange2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var url = 'http://localhost/dashboard/practice_project/php_server/login.php';\n            let obj = {\n              email: Data.email,\n              password: Data.password\n            };\n            fetch(url, {\n              method: 'POST',\n              body: JSON.stringify(obj)\n            }).then(function (response) {\n              return response.json();\n            }).then(function (body) {\n              localStorage.setItem(\"token\", JSON.stringify(body));\n              console.log(body);\n            });\n          },\n          children: \"\\u767B\\u5165\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n};\n_s(Login, \"IXLhLRcoZr0XvMHdfCny3xemXIM=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Login","Data","setData","email","password","handleChange1","event","target","value","handleChange2","token","localStorage","getItem","JSON","parse","url","obj","key","data","JWT","ret","setRet","code","message","useEffect","get","fetch","method","body","stringify","then","response","json","setItem","console","log"],"sources":["C:/xampp/htdocs/dashboard/practice_project/hello-world/src/Login.js"],"sourcesContent":["import React, {useState} from \"react\";\r\n\r\nconst Login = () => {\r\n    const [Data, setData] = useState({\r\n        email: \"\",\r\n        password: \"\"\r\n    });\r\n    const handleChange1 = (event) => {\r\n        // ðŸ‘‡ Get input value from \"event\"\r\n        setData({\r\n            email: event.target.value,\r\n            password: Data.password\r\n        });\r\n      };\r\n      const handleChange2 = (event) => {\r\n        // ðŸ‘‡ Get input value from \"event\"\r\n        setData({\r\n            email: Data.email,\r\n            password: event.target.value\r\n        });\r\n      };\r\n      let token = localStorage.getItem(\"token\");\r\n      token = JSON.parse(token);\r\n      var url = 'http://localhost/dashboard/practice_project/php_server/auto_login.php';\r\n      let obj\r\n      if(token !== null)\r\n      {\r\n          obj = {\r\n              key: token.data.JWT,\r\n          }\r\n      }\r\n      else\r\n      {\r\n          obj = {\r\n              key: \"\",\r\n          }\r\n      }\r\n      \r\n      const [ret, setRet] = useState({\r\n          code: 2,\r\n          message: \"\"\r\n      });\r\n      useEffect(() => {\r\n          if(ret.code === 2)\r\n          {\r\n              async function get(){\r\n                  await fetch(url, {\r\n                      method: 'POST',\r\n                      body: JSON.stringify(obj)\r\n                  })\r\n                      .then(function (response) {\r\n                          return response.json();\r\n                      })\r\n                      .then(function (body) {\r\n                          setRet(body);\r\n                      });\r\n  \r\n              }\r\n              get();\r\n          }\r\n      }, [ret.code]);\r\n    if(ret.code === 1)\r\n    {\r\n            return (\r\n            <>\r\n                <div id=\"login-form\">\r\n                    ä¿¡ç®± : <input type=\"text\" name=\"email\" id=\"email\" onChange={handleChange1}/><br/>\r\n                    å¯†ç¢¼ : <input type=\"text\" name=\"password\" id=\"password\" onChange={handleChange2}/>   \r\n                    <button onClick={() => {\r\n                            var url = 'http://localhost/dashboard/practice_project/php_server/login.php';\r\n                            let obj = {\r\n                                email:  Data.email,\r\n                                password: Data.password\r\n                            }\r\n                            fetch(url,{\r\n                                method: 'POST',\r\n                                body: JSON.stringify(obj)\r\n                            }\r\n                            )\r\n                            .then(function (response) {\r\n                            return response.json();\r\n                            })\r\n                            .then(function (body) {\r\n                                \r\n                                localStorage.setItem(\"token\",JSON.stringify(body));\r\n                                console.log(body);\r\n                            });\r\n                        \r\n                    }}>ç™»å…¥</button>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n    else\r\n    {\r\n        return (<></>);\r\n    }\r\n    \r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}