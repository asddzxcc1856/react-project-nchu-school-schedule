{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\dashboard\\\\react-project-nchu-school-schedule\\\\react\\\\src\\\\Header.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport { NavbarProvider } from './NavbarContext';\nimport Navbar from './Navbar';\n\n//Navbar\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst navlink = {\n  Target1: {\n    link: \"/Login\",\n    item: \"登入\"\n  },\n  Target2: {\n    link: \"/Register\",\n    item: \"註冊\"\n  }\n};\n\n//Navbar\nconst navlink2 = {\n  Target1: {\n    link: \"/\",\n    item: \"系級課程\"\n  },\n  Target2: {\n    link: \"/Activity\",\n    item: \"通識\"\n  },\n  Target3: {\n    link: \"/Product\",\n    item: \"體育/全校課程\"\n  },\n  Target4: {\n    link: \"/Teach\",\n    item: \"教育學程\"\n  }\n};\nconst navlink3 = {\n  Target1: {\n    link: \"/\",\n    item: \"\"\n  }\n};\nconst Header = () => {\n  _s();\n  //localStorage.clear();\n  let token = localStorage.getItem(\"token\");\n  token = JSON.parse(token);\n  var url = 'http://localhost/dashboard/react-project-nchu-school-schedule/php_server/auto_login.php';\n  let obj;\n  if (token !== null) {\n    obj = {\n      key: token.data.JWT\n    };\n  } else {\n    obj = {\n      key: \"\"\n    };\n  }\n  const [ret, setRet] = useState({\n    code: 2,\n    message: \"\"\n  });\n  useEffect(() => {\n    if (ret.code === 2) {\n      async function get() {\n        await fetch(url, {\n          method: 'POST',\n          body: JSON.stringify(obj)\n        }).then(function (response) {\n          return response.json();\n        }).then(function (body) {\n          setRet(body);\n        });\n      }\n      get();\n    }\n  }, [ret.code]);\n  let ob = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"header\",\n      children: /*#__PURE__*/_jsxDEV(NavbarProvider, {\n        value: navlink,\n        children: /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n  let ob2 = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"header\",\n      children: /*#__PURE__*/_jsxDEV(NavbarProvider, {\n        value: navlink2,\n        children: /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n  let ob3 = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"header\",\n      children: /*#__PURE__*/_jsxDEV(NavbarProvider, {\n        value: navlink3,\n        children: /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n  if (ret.code === 0) return ob;else if (ret.code === 1) return ob2;else return ob3;\n};\n_s(Header, \"ZhERshdaQHfu2IsDxbSPJwxzXBQ=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useEffect","useState","NavbarProvider","Navbar","navlink","Target1","link","item","Target2","navlink2","Target3","Target4","navlink3","Header","token","localStorage","getItem","JSON","parse","url","obj","key","data","JWT","ret","setRet","code","message","get","fetch","method","body","stringify","then","response","json","ob","ob2","ob3"],"sources":["C:/xampp/htdocs/dashboard/react-project-nchu-school-schedule/react/src/Header.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React ,{useEffect, useState} from 'react';\r\nimport { NavbarProvider } from './NavbarContext';\r\nimport Navbar from './Navbar';\r\n\r\n//Navbar\r\nconst navlink = {\r\n    Target1: {\r\n        link: \"/Login\",\r\n        item: \"登入\"\r\n    },\r\n    Target2: {  \r\n        link: \"/Register\",\r\n        item: \"註冊\"\r\n    }\r\n};\r\n\r\n//Navbar\r\nconst navlink2 = {\r\n    Target1: {\r\n        link: \"/\",\r\n        item: \"系級課程\"\r\n    },\r\n    Target2: {\r\n        link: \"/Activity\",\r\n        item: \"通識\"\r\n    },\r\n    Target3: {\r\n        link: \"/Product\",\r\n        item: \"體育/全校課程\"\r\n    },\r\n    Target4: {\r\n        link: \"/Teach\",\r\n        item: \"教育學程\"\r\n    },\r\n};\r\n\r\nconst navlink3 = {\r\n    Target1: {\r\n        link: \"/\",\r\n        item: \"\"\r\n    },\r\n};\r\n\r\nconst Header = () => {\r\n    //localStorage.clear();\r\n    let token = localStorage.getItem(\"token\");\r\n    token = JSON.parse(token);\r\n    var url = 'http://localhost/dashboard/react-project-nchu-school-schedule/php_server/auto_login.php';\r\n    let obj\r\n    if(token !== null)\r\n    {\r\n        obj = {\r\n            key: token.data.JWT,\r\n        }\r\n    }\r\n    else\r\n    {\r\n        obj = {\r\n            key: \"\",\r\n        }\r\n    }\r\n    \r\n    const [ret, setRet] = useState({\r\n        code: 2,\r\n        message: \"\"\r\n    });\r\n    useEffect(() => {\r\n        if(ret.code === 2)\r\n          {\r\n              async function get(){\r\n                  await fetch(url, {\r\n                      method: 'POST',\r\n                      body: JSON.stringify(obj)\r\n                  })\r\n                      .then(function (response) {\r\n                          return response.json();\r\n                      })\r\n                      .then(function (body) {\r\n                          setRet(body);\r\n                      });\r\n  \r\n              }\r\n              get();\r\n          }\r\n    }, [ret.code]);\r\n    \r\n    let ob = (\r\n        <>\r\n            <div id=\"header\">\r\n                <NavbarProvider value={navlink}>\r\n                    <Navbar></Navbar>\r\n                </NavbarProvider>\r\n            </div>\r\n        </>\r\n    );\r\n    let ob2 = (\r\n        <>\r\n            <div id=\"header\">\r\n                <NavbarProvider value={navlink2}>\r\n                    <Navbar></Navbar>\r\n                </NavbarProvider>\r\n            </div>\r\n        </>\r\n    );\r\n    let ob3 = (\r\n        <>\r\n            <div id=\"header\">\r\n                <NavbarProvider value={navlink3}>\r\n                    <Navbar></Navbar>\r\n                </NavbarProvider>\r\n            </div>\r\n        </>\r\n    );\r\n    if(ret.code === 0)\r\n        return ob;\r\n    else if(ret.code === 1)\r\n        return ob2;\r\n    else \r\n        return ob3;\r\n\r\n}\r\n\r\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}