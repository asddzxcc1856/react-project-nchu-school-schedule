{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\dashboard\\\\practice_project\\\\hello-world\\\\src\\\\Header.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { NavbarProvider } from './NavbarContext';\nimport Navbar from './Navbar';\n\n//Navbar\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst navlink = {\n  Target1: {\n    link: \"/Login\",\n    item: \"登入\"\n  },\n  Target2: {\n    link: \"/Register\",\n    item: \"註冊\"\n  }\n};\n\n//Navbar\nconst navlink2 = {\n  Target1: {\n    link: \"/\",\n    item: \"系級課程\"\n  },\n  Target2: {\n    link: \"/Activity\",\n    item: \"通識\"\n  },\n  Target3: {\n    link: \"/Product\",\n    item: \"體育/全校課程\"\n  },\n  Target4: {\n    link: \"/Teach\",\n    item: \"教育學程\"\n  }\n};\nconst Header = () => {\n  _s();\n  //localStorage.clear();\n  const [ret, setRet] = useState(\"\");\n  useEffect(() => {\n    async function get() {\n      if (token) {\n        await fetch(url, {\n          method: 'POST',\n          body: JSON.stringify(obj)\n        }).then(function (response) {\n          return response.json();\n        }).then(function (body) {\n          setRet(body);\n        });\n        console.log(ret);\n        if (ret.code === 1) {\n          return 1;\n        } else {\n          return 0;\n        }\n      } else {\n        return 0;\n      }\n    }\n    get();\n  }, []);\n  let token = localStorage.getItem(\"token\");\n  if (token) {\n    token = JSON.parse(token);\n    var url = 'http://localhost/dashboard/practice_project/php_server/auto_login.php';\n    let obj = {\n      key: token.data.JWT\n    };\n    let ob = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"header\",\n        children: /*#__PURE__*/_jsxDEV(NavbarProvider, {\n          value: navlink,\n          children: /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n    let ob2 = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"header\",\n        children: /*#__PURE__*/_jsxDEV(NavbarProvider, {\n          value: navlink2,\n          children: /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n    if (ret.code === 0) return ob;else return ob2;\n  }\n};\n_s(Header, \"Slldqnf9AypnEVPevYmQ+oWmkDw=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useEffect","useState","NavbarProvider","Navbar","navlink","Target1","link","item","Target2","navlink2","Target3","Target4","Header","ret","setRet","get","token","fetch","url","method","body","JSON","stringify","obj","then","response","json","console","log","code","localStorage","getItem","parse","key","data","JWT","ob","ob2"],"sources":["C:/xampp/htdocs/dashboard/practice_project/hello-world/src/Header.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { NavbarProvider } from './NavbarContext';\r\nimport Navbar from './Navbar';\r\n\r\n//Navbar\r\nconst navlink = {\r\n    Target1: {\r\n        link: \"/Login\",\r\n        item: \"登入\"\r\n    },\r\n    Target2: {\r\n        link: \"/Register\",\r\n        item: \"註冊\"\r\n    }\r\n};\r\n\r\n//Navbar\r\nconst navlink2 = {\r\n    Target1: {\r\n        link: \"/\",\r\n        item: \"系級課程\"\r\n    },\r\n    Target2: {\r\n        link: \"/Activity\",\r\n        item: \"通識\"\r\n    },\r\n    Target3: {\r\n        link: \"/Product\",\r\n        item: \"體育/全校課程\"\r\n    },\r\n    Target4: {\r\n        link: \"/Teach\",\r\n        item: \"教育學程\"\r\n    },\r\n};\r\n\r\nconst Header = () => {\r\n    //localStorage.clear();\r\n    const [ret, setRet] = useState(\"\");\r\n        useEffect(() => {\r\n            async function get() {\r\n                if (token) {\r\n                    await fetch(url, {\r\n                        method: 'POST',\r\n                        body: JSON.stringify(obj)\r\n                    })\r\n                        .then(function (response) {\r\n                            return response.json();\r\n                        })\r\n                        .then(function (body) {\r\n                            setRet(body);\r\n                        });\r\n\r\n                    console.log(ret);\r\n                    if (ret.code === 1) {\r\n                        return 1;\r\n                    }\r\n                    else {\r\n                        return 0;\r\n                    }\r\n\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            }\r\n            get();\r\n        }, []);\r\n    let token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n        token = JSON.parse(token);\r\n        var url = 'http://localhost/dashboard/practice_project/php_server/auto_login.php';\r\n        let obj = {\r\n            key: token.data.JWT,\r\n        }\r\n        \r\n\r\n        let ob = (\r\n            <>\r\n                <div id=\"header\">\r\n                    <NavbarProvider value={navlink}>\r\n                        <Navbar></Navbar>\r\n                    </NavbarProvider>\r\n                </div>\r\n            </>\r\n        );\r\n        let ob2 = (\r\n            <>\r\n                <div id=\"header\">\r\n                    <NavbarProvider value={navlink2}>\r\n                        <Navbar></Navbar>\r\n                    </NavbarProvider>\r\n                </div>\r\n            </>\r\n        );\r\n        if (ret.code === 0)\r\n        return ob;\r\n        else\r\n            return ob2;\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\nexport default Header;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,cAAc,QAAQ,iBAAiB;AAChD,OAAOC,MAAM,MAAM,UAAU;;AAE7B;AAAA;AAAA;AACA,MAAMC,OAAO,GAAG;EACZC,OAAO,EAAE;IACLC,IAAI,EAAE,QAAQ;IACdC,IAAI,EAAE;EACV,CAAC;EACDC,OAAO,EAAE;IACLF,IAAI,EAAE,WAAW;IACjBC,IAAI,EAAE;EACV;AACJ,CAAC;;AAED;AACA,MAAME,QAAQ,GAAG;EACbJ,OAAO,EAAE;IACLC,IAAI,EAAE,GAAG;IACTC,IAAI,EAAE;EACV,CAAC;EACDC,OAAO,EAAE;IACLF,IAAI,EAAE,WAAW;IACjBC,IAAI,EAAE;EACV,CAAC;EACDG,OAAO,EAAE;IACLJ,IAAI,EAAE,UAAU;IAChBC,IAAI,EAAE;EACV,CAAC;EACDI,OAAO,EAAE;IACLL,IAAI,EAAE,QAAQ;IACdC,IAAI,EAAE;EACV;AACJ,CAAC;AAED,MAAMK,MAAM,GAAG,MAAM;EAAA;EACjB;EACA,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC9BD,SAAS,CAAC,MAAM;IACZ,eAAee,GAAG,GAAG;MACjB,IAAIC,KAAK,EAAE;QACP,MAAMC,KAAK,CAACC,GAAG,EAAE;UACbC,MAAM,EAAE,MAAM;UACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACC,GAAG;QAC5B,CAAC,CAAC,CACGC,IAAI,CAAC,UAAUC,QAAQ,EAAE;UACtB,OAAOA,QAAQ,CAACC,IAAI,EAAE;QAC1B,CAAC,CAAC,CACDF,IAAI,CAAC,UAAUJ,IAAI,EAAE;UAClBN,MAAM,CAACM,IAAI,CAAC;QAChB,CAAC,CAAC;QAENO,OAAO,CAACC,GAAG,CAACf,GAAG,CAAC;QAChB,IAAIA,GAAG,CAACgB,IAAI,KAAK,CAAC,EAAE;UAChB,OAAO,CAAC;QACZ,CAAC,MACI;UACD,OAAO,CAAC;QACZ;MAEJ,CAAC,MACI;QACD,OAAO,CAAC;MACZ;IACJ;IACAd,GAAG,EAAE;EACT,CAAC,EAAE,EAAE,CAAC;EACV,IAAIC,KAAK,GAAGc,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACzC,IAAIf,KAAK,EAAE;IACPA,KAAK,GAAGK,IAAI,CAACW,KAAK,CAAChB,KAAK,CAAC;IACzB,IAAIE,GAAG,GAAG,uEAAuE;IACjF,IAAIK,GAAG,GAAG;MACNU,GAAG,EAAEjB,KAAK,CAACkB,IAAI,CAACC;IACpB,CAAC;IAGD,IAAIC,EAAE,gBACF;MAAA,uBACI;QAAK,EAAE,EAAC,QAAQ;QAAA,uBACZ,QAAC,cAAc;UAAC,KAAK,EAAEhC,OAAQ;UAAA,uBAC3B,QAAC,MAAM;YAAA;YAAA;YAAA;UAAA;QAAU;UAAA;UAAA;UAAA;QAAA;MACJ;QAAA;QAAA;QAAA;MAAA;IACf,iBAEb;IACD,IAAIiC,GAAG,gBACH;MAAA,uBACI;QAAK,EAAE,EAAC,QAAQ;QAAA,uBACZ,QAAC,cAAc;UAAC,KAAK,EAAE5B,QAAS;UAAA,uBAC5B,QAAC,MAAM;YAAA;YAAA;YAAA;UAAA;QAAU;UAAA;UAAA;UAAA;QAAA;MACJ;QAAA;QAAA;QAAA;MAAA;IACf,iBAEb;IACD,IAAII,GAAG,CAACgB,IAAI,KAAK,CAAC,EAClB,OAAOO,EAAE,CAAC,KAEN,OAAOC,GAAG;EAClB;AAIJ,CAAC;AAAA,GAnEKzB,MAAM;AAAA,KAANA,MAAM;AAqEZ,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}